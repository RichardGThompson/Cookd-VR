<!DOCTYPE html>
<html>
    <head>
        <script src="https://aframe.io/releases/1.0.3/aframe.min.js"></script>
        <!--Pathfinding-->
        <script src="https://cdn.jsdelivr.net/gh/donmccurdy/aframe-extras@v6.1.0/dist/aframe-extras.min.js"></script>
        <script src="https://recast-api.donmccurdy.com/aframe-inspector-plugin-recast.js"></script>
        <script src="js/dsk_playermovement.js"></script>
        <script src="js/dsk_npcspawning.js"></script>
        <script src="js/dsk_ticketgenerating.js"></script>
        <script src="js/dsk_getticket.js"></script>
        <script src="js/dsk_deletenpcs.js"></script>
        <!--GUI-->
        <script src="https://rawgit.com/rdub80/aframe-gui/master/dist/aframe-gui.min.js"></script>
        <!--Physics-->
        <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
    </head>
    <body>

        <a-scene physics="debug: true">
            <a-assets>
                <a-asset-item id="Floortexture" src="assets/Texture/sans.png"></a-asset-item>
                <a-asset-item id="NPCtexture" src="assets/Texture/willman.png"></a-asset-item>
                <a-asset-item id="FloorOBJ" src="assets/FloorPlan.obj"></a-asset-item>
                <a-asset-item id="SceneOBJ" src="assets/scene.gltf"></a-asset-item>
                <a-asset-item id="NavMeshOBJ" src="assets/nav.gltf"></a-asset-item>
            </a-assets>
            <a-entity id="rig" movement-controls="constrainToNavMesh: true" rotation="-90 0 0"position=" 0 10 -1">
                <a-entity id="camera" position=" 0 0 0"  camera >
                    <a-entity   id="cursor"
                                cursor="fuse:false; fuseTimeout:500; rayOrigin:mouse; "
                                navpointer
                                raycaster="far:100; interval:100; objects: .clickable;"
                                position=" 0 0 0"
                                showLine="true"
                                geometry="primitive:box; width:0.1; height:0.1; depth: 0.1"
                                material="shader:flat; color:black;" >
                    </a-entity>
                </a-entity>
            </a-entity>
            
            <a-gui-flex-container 
                flex-direction="column" justify-content="center" align-items="normal" scale= "1 1 1" component-padding="0.1" opacity="0.7" width="3.5" height="4.5"
                position="9.6 3 -1" rotation="-90 0 0">
                <a-gui-label id="ticketName" width="4" height = "0.7" value="" font-size="160px" ></a-gui-label>
                <a-gui-label id="ticket" width="4" height = "0.7" value="" font-size="130px" ></a-gui-label>
            </a-gui-flex-container>
            
      


            <a-entity id="scene"
                    obj-model="obj: #FloorOBJ;"
                    position="-1 1 -1"
                    rotation="0 0 0"
                    scale="1 1 1"
                    dsk_playermovement
                    class="clickable"
                    Material="src: url(/assets/Texture/EnviroTexture.png)"
                    normal-map="src: url(/assets/Texture/EnviroNormal.tif)"
                    static-body>
            </a-entity>
            <a-entity id="button"
                    class="clickable"
                    dsk_npcspawning
                    position= " 2 2 2"
                    geometry="primitive: cylinder; height: 1; radius: 1"
                    
                    position="4.5 -0.5 2">
            </a-entity>

            <a-entity id="player"
                nav-agent="speed: 1.5"
                static-body
                dsk_getticket
                dsk_deletenpcs
                position= "-1 1 -1" 
                rotation="0 90 0"
                geometry="primitive: cylinder; height:0.5; radius:1"
                Material="src: url(/assets/Texture/sans.png)">
            </a-entity>

            <a-entity id="table1"
                position= "-1.0 1.269 -1" 
                geometry="primitive:cylinder; height:0.5; radius: 1" 
                visible="false"
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table2"
                position= "-1.0 1.269 -5.492" 
                geometry="primitive:cylinder; height:0.5; radius: 1" 
                visible="false"
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table3"
                position= "-5.728 1.269 -1.0" 
                geometry="primitive:cylinder; height:0.5; radius: 1" 
                visible="false"
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table4"
                position= "-5.728 1.269 -5.492" 
                geometry="primitive:cylinder; height:0.5; radius: 1" 
                visible="false"
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table5"
                position= "3.553 1.269 -1.0" 
                geometry="primitive:cylinder; height:0.5; radius: 1"
                visible="false" 
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table6"
                position= "3.553 1.269 3.675" 
                geometry="primitive:cylinder; height:0.5; radius: 1" 
                visible="false"
                Material="color: rgb(255, 0, 0)">
            </a-entity>
            
            <a-entity id="table7"
                position= "-1 1.269 3.675" 
                geometry="primitive:cylinder; height:0.5; radius: 1"
                visible="false" 
                Material="color: rgb(255, 0, 0)">
            </a-entity>

            <a-entity id="table8"
                position= "-5.728 1.269 3.675" 
                geometry="primitive:cylinder; height:0.5; radius: 1"
                visible="false" 
                Material="color: rgb(255, 0, 0)">
            </a-entity>

        </a-scene>
    </body>
</html>