<!DOCTYPE html>
<html>
    <head>
        <title>Cook'd VR</title>
        <script src="https://aframe.io/releases/1.0.4/aframe.min.js"></script>
        <script src="https://unpkg.com/aframe-environment-component@1.1.0/dist/aframe-environment-component.min.js"></script>
        <script src="//cdn.rawgit.com/donmccurdy/aframe-physics-system/v4.0.1/dist/aframe-physics-system.min.js"></script>
        <script src='/js/vr-grab.js'></script>
        <script src='/js/vr-cooking.js'></script>
        <script src='/js/vr-snap-patty.js'></script>
        <script src='/js/vr-element-info.js'></script>
        <script src='/js/vr-print-position.js'></script>
        <script src='/js/vr-get-burgers.js'></script>
        <script src='js/vr-make-patty.js'></script>
        <script src='js/vr-make-cheese.js'></script>
        <script src='js/vr-burger-info.js'></script>
        <script src='js/vr-get-height.js'></script>
        <script src='js/vr-patty-info.js'></script>
        <script src='js/vr-game-manager.js'></script>
        <script src='js/vr-add-body.js'></script>
        <script src='js/vr-delete-test.js'></script>
        <script src='js/vr-make-topbun.js'></script>
        <script src='js/vr-make-bottombun.js'></script>
        <script src='js/vr-burger-assembly.js'></script>
    </head>    
    <body>
        <a-scene physics='debug:true'>
            <a-assets>
                <!-- <audio id="testSoundSrc" crossorigin="anonymous" src="assets/sound/burgerFrying.mp3" preload='true'></audio> -->
                <!-- <a-asset-item response-type="arraybuffer" src="assets/sound/1.ogg"></a-asset-item> -->
                <a-asset-item id="burgerCookingSound" src='assets/sound/burgerFrying.mp3' response-type="arraybuffer" crossorigin="anonymous" preload='true'></a-asset-item>
                <a-asset-item id="1Obj" src="/assets/models/obj/1.obj"></a-asset-item>
                <a-asset-item id="2Obj" src="/assets/models/obj/2.obj"></a-asset-item>
                <a-asset-item id="3Obj" src="/assets/models/obj/3.obj"></a-asset-item>
                <a-asset-item id='4Obj' src='/assets/models/obj/4.obj'></a-asset-item>
                
                <a-asset-item id='dispenserObj' src='/assets/models/obj/dispenser.obj'></a-asset-item>

                <a-asset-item id='floorObj' src='/assets/models/obj/floor.obj'></a-asset-item>
                <a-asset-item id='floorTexture' src='/assets/models/textures/floorTexture.png'></a-asset-item>

                <a-asset-item id='stoveObj' src='/assets/models/obj/stove.obj'></a-asset-item>
                <a-asset-item id='stoveTexture' src='/assets/models/textures/stoveTexture.png'></a-asset-item>

                <a-asset-item id='wallObj' src='/assets/models/obj/walls.obj'></a-asset-item>
                <a-asset-item id='wallTexture' src='/assets/models/textures/wallTexture.png'></a-asset-item>

                <a-asset-item id='counterObj' src='/assets/models/obj/counter.obj'></a-asset-item>
                <a-asset-item id='counterTexture' src='/assets/models/textures/counterTexture.png'></a-asset-item>

                <a-asset-item id='1_2Obj' src='/assets/models/obj/1_2.obj'></a-asset-item>
                <a-asset-item id='1_2_3Obj' src='/assets/models/obj/1_2_3.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3Obj' src='/assets/models/obj/1_2_2_3.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3_4Obj' src='/assets/models/obj/1_2_2_3_4.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3_5Obj' src='/assets/models/obj/1_2_2_3_5.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3_5_7Obj' src='/assets/models/obj/1_2_2_3_5_7.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3_5_6_7Obj' src='/assets/models/obj/1_2_2_3_5_6_7.obj'></a-asset-item>
                <a-asset-item id='1_2_2_3_4_5_6_7Obj' src='/assets/models/obj/1_2_2_3_4_5_6_7.obj'></a-asset-item>
                <a-asset-item id='1_2_3_4Obj' src='/assets/models/obj/1_2_3_4.obj'></a-asset-item>
                <a-asset-item id='1_2_3_5Obj' src='/assets/models/obj/1_2_3_5.obj'></a-asset-item>
                <a-asset-item id='1_2_3_5_6Obj' src='/assets/models/obj/1_2_3_5_6.obj'></a-asset-item>
                <a-asset-item id='1_2_3_4_5_6Obj' src='/assets/models/obj/1_2_3_4_5_6.obj'></a-asset-item>
                <a-asset-item id='1_2_3_5_7Obj' src='/assets/models/obj/1_2_3_5_7.obj'></a-asset-item>
                <a-asset-item id='1_2_3_5_6_7Obj' src='/assets/models/obj/1_2_3_5_6_7.obj'></a-asset-item>
                <a-asset-item id='1_2_3_4_5_6_7Obj' src='/assets/models/obj/1_2_3_4_5_6_7.obj'></a-asset-item>
                <a-asset-item id='1_2_4Obj' src='/assets/models/obj/1_2_4.obj'></a-asset-item>
                
                <a-mixin id='bottomBunMixin' 
                    material='color:#cd6133'
                    scale='0.02 0.02 0.02'
                    vr-element-info='elemType:1' 
                    >
                </a-mixin>

                <a-mixin id='pattyMixin' 
                    material='color:#b33939'
                    vr-element-info='elemType:2'
                    scale='0.02 0.02 0.018'
                    >
                </a-mixin>

                <a-mixin id='cheeseMixin'
                    material='color:#ffb142'
                    vr-element-info='elemType:3'
                    scale='0.02 0.02 0.02'>
                </a-mixin>

                <a-mixin id='topBunMixin'
                    material='color:#cd6133'
                    scale='0.02 0.02 0.02'
                    vr-element-info='elemType:4'>
                </a-mixin>

                <a-mixin id='lettuceMixin'
                    scale='0.02 0.02 0.02'
                    vr-element-info='elemType:5'>
                </a-mixin>

                <a-mixin id='onionMixin'
                    scale='0.02 0.02 0.02'
                    vr-element-info='elemType:6'>
                </a-mixin>

                <a-mixin id='tomatoMixin'
                    scale='0.02 0.02 0.02'
                    vr-element-info='elemType:7'>
                </a-mixin>
                
            </a-assets>

            <a-entity environment="preset: default"></a-entity>

            <a-entity id='gameManager' vr-game-manager></a-entity>

            <!-- <a-entity sound="src:#testSound; loop:true; autoplay:true;"></a-entity> -->


            <a-entity id="cameraRig" networked="template: #rigTemplate; showLocalTemplate: false">
                <a-camera id="camera" look-controls position="0 2.0 0">
                </a-camera>

                <a-entity id="leftHand" class='hand' hand-controls="hand: left; handModelStyle: lowPoly; color: #ffcccc" static-body="shape: box;
                halfExtents: 0.15 0.18 0.04;" vr-grab></a-entity>
                
                <a-entity id="rightHand" class='hand' hand-controls="hand: right; handModelStyle: lowPoly; color: #ffcccc" static-body="shape: box;
                halfExtents: 0.15 0.18 0.04;" vr-grab>
                </a-entity>
            </a-entity>

            <!-- ENV ENTITIES -->
            <a-obj-model id='floor_0' src='#floorObj' material='color:silver' position='0 0 0' ></a-obj-model>
            
            <a-entity id='counterGroup_0' position='0 0 -1'>
                <a-obj-model id="counter_0" src="#counterObj" scale="0.1 0.1 0.1" position='-1.505 0 0'></a-obj-model>
                <a-obj-model id='stove_0' src='#stoveObj' scale="0.1 0.1 0.1" position='0 0 0'></a-obj-model>
                <a-obj-model id="counter_1" src="#counterObj" scale="0.1 0.1 0.1" position='1.505 0 0'></a-obj-model>
            </a-entity>

            <a-entity id='counterGroup_1' position='-3 0 2' rotation='0 90 0'>
                <a-obj-model id="counter_1" src="#counterObj" scale="0.1 0.1 0.1" position='0 0 0'></a-obj-model>
                <a-obj-model id="counter_2" src="#counterObj" scale="0.1 0.1 0.1" position='1.505 0 0'></a-obj-model>
            </a-entity>

            <a-entity id="counterGroup_2" position="0 0 3.491" rotation="0 180 0">
                <a-obj-model id="counter_0" src="#counterObj" scale="0.1 0.1 0.1" position="-1.505 0 0" obj-model=""></a-obj-model>
                <a-obj-model id="counter_1" src="#counterObj" scale="0.1 0.1 0.1" position="0 0 0" obj-model=""></a-obj-model>
                <a-obj-model id="counter_2" src="#counterObj" scale="0.1 0.1 0.1" position="1.505 0 0" obj-model=""></a-obj-model>
                
                <a-entity id='dispensers' position='-0.071 0 0'>
                    <a-entity id="dispenserGroup_0" position="-1.3 2 0">
                        <a-obj-model id="dispenser" src="#dispenserObj" position="" scale="0.1 0.1 0.1" material="" obj-model="">
                            <a-box height="0.1" width="0.1" depth="0.1" position="-3.37908 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="3.38984 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 -3.37635" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 3.62052" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                        </a-obj-model>
                    </a-entity>
    
                    <a-entity id="dispenserGroup_1" position="-0.3 2 0">
                        <a-obj-model id="dispenser" src="#dispenserObj" position="" scale="0.1 0.1 0.1" material="" obj-model="">
                            <a-box height="0.1" width="0.1" depth="0.1" position="-3.37908 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="3.38984 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 -3.37635" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 3.62052" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                        </a-obj-model>
                    </a-entity>
    
                    <a-entity id="dispenserGroup_1" position="0.7 2 0">
                        <a-obj-model id="dispenser" src="#dispenserObj" position="" scale="0.1 0.1 0.1" material="" obj-model="">
                            <a-box height="0.1" width="0.1" depth="0.1" position="-3.37908 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="3.38984 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 -3.37635" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 3.62052" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                        </a-obj-model>
                    </a-entity>
    
                    <a-entity id="dispenserGroup_1" position="1.7 2 0">
                        <a-obj-model id="dispenser" src="#dispenserObj" position="" scale="0.1 0.1 0.1" material="" obj-model="">
                            <a-box height="0.1" width="0.1" depth="0.1" position="-3.37908 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="3.38984 2.96122 0.11858" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.5" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 -3.37635" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                            <a-box height="0.1" width="0.1" depth="0.1" position="-0.00402 2.96122 3.62052" scale="0.1 0.1 0.1" material="color: blue" geometry="height: 5.9; width: 0.5; depth: 7.32" rotation="0 90 0" static-body visible="false"></a-box>
                        </a-obj-model>
                    </a-entity>
                </a-entity>
            </a-entity>
                

            <a-entity id='counterGroup_3' position='2.795 0 2' rotation='0 90 0'>
                <a-obj-model id="counter_1" src="#counterObj" scale="0.1 0.1 0.1" position='0 0 0' rotation='0 180 0'></a-obj-model>
                <a-obj-model id="counter_2" src="#counterObj" scale="0.1 0.1 0.1" position='1.505 0 0' rotation='0 180 0'></a-obj-model>
            </a-entity>

            <!-- material="src: /assets/models/textures/counterTexture.png" -->
            
            <!-- <a-obj-model id='bb_0'
            src="#1_2_3_5_6_7Obj"
            class='grabbable' 
            mixin='bottomBunMixin'
            position='0 1.4 -0.5'
            vr-burger-info 
            vr-burger-assembly 
            vr-snap-patty
            dynamic-body
            ></a-obj-model> -->
                

            <!-- <a-obj-model id="dispenserOne" 
                src="#dispenserObj" 
                position="-0.35 1.45 -0.69" 
                material="color: pink">
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="-0.105 0.088 0.18" scale='0.120 0.370 0.840'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.105 0.088 0.18" scale='0.120 0.370 0.840'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.0 0.088 0.0" scale='0.150 0.370 0.480' rotation='0 90 0'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.0 0.088 0.338" scale='0.450 0.370 0.480' rotation='0 90 0'></a-entity>
                    <a-entity id="pattyraycaster" class="button" 
                        raycaster="objects: .hand; showLine: true; far: 0.03" 
                        line="color: orange;" 
                        position="0.06 0.1 0.4" 
                        rotation="180 0 0" 
                        vr-make-patty="">
                    </a-entity>
                    <a-entity id="cheeseraycaster" class="button" 
                        raycaster="objects: .hand; showLine: true; far: 0.03" 
                        line="color: orange;" 
                        position="-0.06 0.1 0.4" 
                        rotation="180 0 0" 
                        vr-make-cheese="">
                    </a-entity>
                </a-entity>
            </a-obj-model>

            <a-obj-model id="dispenserTwo" 
                src="#dispenserObj"
                position="-0.015 1.45 -0.69" 
                material="color: pink">
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="-0.105 0.088 0.18" scale='0.120 0.370 0.840'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.105 0.088 0.18" scale='0.120 0.370 0.840'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.0 0.088 0.0" scale='0.150 0.370 0.480' rotation='0 90 0'></a-entity>
                    <a-entity id="collider" geometry="height: 0.5; width: 0.25; depth: 0.5" visible="false" static-body position="0.0 0.088 0.338" scale='0.450 0.370 0.480' rotation='0 90 0'></a-entity>
                    <a-entity id="pattyraycaster" class="button" 
                        raycaster="objects: .hand; showLine: true; far: 0.03" 
                        line="color: orange;" 
                        position="0.06 0.1 0.4" 
                        rotation="180 0 0" 
                        vr-make-topbun="">
                    </a-entity>
                    <a-entity id="cheeseraycaster" class="button" 
                        raycaster="objects: .hand; showLine: true; far: 0.03" 
                        line="color: orange;" 
                        position="-0.06 0.1 0.4" 
                        rotation="180 0 0" 
                        vr-make-bottombun="">
                    </a-entity>
                </a-entity>
            </a-obj-model>
                

            <a-entity id='ticketWall' 
                geometry='primitive:plane; height: 0.8; width: 1.5'
                position='0.138 1.582 -1.113'
                rotation='0 0 0'
                material='color:#f7f1e3'>
                    <a-entity id='testTicket'
                        geometry='primitive:plane; height:0.25; width: 0.19'
                        position='0 0 0.01'
                        rotation='0 0 0'
                        material='color:yellow'>
                    </a-entity>
            </a-entity>
                

            <a-entity id="sendOrderPad" geometry="primitive: cylinder; height: 0.01; radius: 0.1" material="color: blue" position="-0.77 1.001 -0.575">
                <a-entity id='sendOrderRayCast' raycaster='objects:.grabbable; showLine:true; far:0.03' line='color:red;' rotation='90 0 0' vr-send-order></a-entity>
            </a-entity>

            <a-plane id='floor' height='30' width='30'
                material = 'color:white; opacity:0.0;'
                postion = '0 0 0'
                rotation = '-90 0 0'
                static-body>
            </a-plane>


            <a-entity id='kitchenCounters' position='0 0 -0.75' rotation='0 0 0'>
                <a-box id='counterOne' class='counter'
                    height='1.0' width='5.0' depth='1.0'
                    position='0 0.5 0'
                    rotation='0 0 0'
                    material='color: white'
                    static-body>
                </a-box>
                <a-box id='stoveTop' class='hotSurface'
                        height='0.02' width='0.5' depth='1.0'
                        position='0.6 1 0'
                        roation='0 0 0'
                        material='color: grey;'
                        static-body>
                    </a-box>
            </a-entity> -->
            <script src="/socket.io/socket.io.js"></script>
            <script src="js/vr-networking.js"></script>
        </a-scene>
    </body>
</html>